<!DOCTYPE html><html class=no-js lang=en> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="or How to Mess up AT SCALE!" name=description><meta content="Hugh Smalley" name=author><link href=https://hsmalley.github.io/how-to/Ansible/ rel=canonical><link href=../Ansible%20-%20Playbooks/ rel=prev><link href=../Bash/ rel=next><link href=../../assets/images/favicon.png rel=icon><meta content="mkdocs-1.4.2, mkdocs-material-9.1.3" name=generator><title>Ansible - Getting Started - 🤓 🐐‍💨‍🎂</title><link href=../../assets/stylesheets/main.c4a75a56.min.css rel=stylesheet><link href=../../assets/stylesheets/palette.a0c5b2b5.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta content=website property=og:type><meta content="Ansible - Getting Started - 🤓 🐐‍💨‍🎂" property=og:title><meta content="or How to Mess up AT SCALE!" property=og:description><meta content=https://hsmalley.github.io/assets/images/social/how-to/Ansible.png property=og:image><meta content=image/png property=og:image:type><meta content=1200 property=og:image:width><meta content=630 property=og:image:height><meta content=https://hsmalley.github.io/how-to/Ansible/ property=og:url><meta content=summary_large_image name=twitter:card><meta content="Ansible - Getting Started - 🤓 🐐‍💨‍🎂" name=twitter:title><meta content="or How to Mess up AT SCALE!" name=twitter:description><meta content=https://hsmalley.github.io/assets/images/social/how-to/Ansible.png name=twitter:image><link href=../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src=../../assets/javascripts/glightbox.min.js></script></head> <body data-md-color-accent=deep-orange data-md-color-primary=deep-orange data-md-color-scheme=default dir=ltr> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#ansible-or-how-to-mess-up-at-scale> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav aria-label=Header class="md-header__inner md-grid"> <a aria-label="🤓 🐐‍💨‍🎂" class="md-header__button md-logo" data-md-component=logo href=../.. title="🤓 🐐‍💨‍🎂"> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="m64.7 125.8 53.2 31.9c7.8 4.7 17.8 2 22.2-5.9l77.5-139.7c3-5.4-.9-12.1-7.1-12.1-1.6 0-3.2.5-4.6 1.4l-142 97.4c-9.6 6.6-9.2 20.9.8 26.9zM32 171.7v123.6c0 8 10.4 11 14.7 4.4l60-92c5-7.6 2.6-17.8-5.2-22.5L56.2 158c-10.6-6.4-24.2 1.3-24.2 13.7zM326.4 12.1 404 151.7c4.4 7.9 14.5 10.6 22.2 5.9l53.2-31.9c10-6 10.4-20.3.8-26.9L338.1 1.4c-1.4-.9-3-1.4-4.6-1.4-6.2 0-10.1 6.7-7.1 12.1zM512 171.7c0-12.4-13.6-20.1-24.2-13.7l-45.3 27.2c-7.8 4.7-10.1 14.9-5.2 22.5l60 92c4.3 6.7 14.7 3.6 14.7-4.4V171.7zm-49.3 246-160.6 18.9c-8.1.9-14.1 7.8-14.1 15.9v52.8c0 3.7 3 6.8 6.8 6.8.8 0 1.6-.1 2.4-.4l172.7-64c6.1-2.2 10.1-8 10.1-14.5 0-9.3-8.1-16.5-17.3-15.4zM249.2 512c3.7 0 6.8-3 6.8-6.8v-52.6c0-8.1-6.1-14.9-14.1-15.9l-160.6-19c-9.2-1.1-17.3 6.1-17.3 15.4 0 6.5 4 12.3 10.1 14.5l172.7 64c.8.3 1.6.4 2.4.4zM57.7 382.9l170.9 20.2c7.8.9 13.4-7.5 9.5-14.3l-85.7-150c-5.9-10.4-20.7-10.8-27.3-.8L46.2 358.2c-6.5 9.9-.3 23.3 11.5 24.7zm439.6-24.8-78.4-120c-6.5-10-21.4-9.6-27.3.8l-85.4 149.6c-3.9 6.8 1.6 15.2 9.5 14.3l170.1-20c11.8-1.4 18-14.7 11.5-24.6zm-216.9 11 78.4-137.2c6.1-10.7-1.6-23.9-13.9-23.9H199.1c-12.3 0-20 13.3-13.9 23.9l78.4 137.2c3.7 6.4 13 6.4 16.7 0zm-90-193.1h163.2c12.2 0 19.9-13.1 14-23.8l-80-144c-2.8-5.1-8.2-8.2-14-8.2h-3.2c-5.8 0-11.2 3.2-14 8.2l-80 144c-5.9 10.7 1.8 23.8 14 23.8z"></path></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 🤓 🐐‍💨‍🎂 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Ansible - Getting Started </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-label="Switch to dark mode" class=md-option data-md-color-accent=deep-orange data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary=deep-orange data-md-color-scheme=default id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_2 hidden title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg> </label> <input aria-label="Switch to light mode" class=md-option data-md-color-accent=deep-orange data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary=deep-orange data-md-color-scheme=slate id=__palette_2 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </label> <nav aria-label=Search class=md-search__options> <button aria-label=Clear class="md-search__icon md-icon" tabindex=-1 title=Clear type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a class=md-source data-md-component=source href=https://github.com/hsmalley/hsmalley title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class=md-source__repository> hsmalley.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=Navigation class="md-nav md-nav--primary" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label="🤓 🐐‍💨‍🎂" class="md-nav__button md-logo" data-md-component=logo href=../.. title="🤓 🐐‍💨‍🎂"> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="m64.7 125.8 53.2 31.9c7.8 4.7 17.8 2 22.2-5.9l77.5-139.7c3-5.4-.9-12.1-7.1-12.1-1.6 0-3.2.5-4.6 1.4l-142 97.4c-9.6 6.6-9.2 20.9.8 26.9zM32 171.7v123.6c0 8 10.4 11 14.7 4.4l60-92c5-7.6 2.6-17.8-5.2-22.5L56.2 158c-10.6-6.4-24.2 1.3-24.2 13.7zM326.4 12.1 404 151.7c4.4 7.9 14.5 10.6 22.2 5.9l53.2-31.9c10-6 10.4-20.3.8-26.9L338.1 1.4c-1.4-.9-3-1.4-4.6-1.4-6.2 0-10.1 6.7-7.1 12.1zM512 171.7c0-12.4-13.6-20.1-24.2-13.7l-45.3 27.2c-7.8 4.7-10.1 14.9-5.2 22.5l60 92c4.3 6.7 14.7 3.6 14.7-4.4V171.7zm-49.3 246-160.6 18.9c-8.1.9-14.1 7.8-14.1 15.9v52.8c0 3.7 3 6.8 6.8 6.8.8 0 1.6-.1 2.4-.4l172.7-64c6.1-2.2 10.1-8 10.1-14.5 0-9.3-8.1-16.5-17.3-15.4zM249.2 512c3.7 0 6.8-3 6.8-6.8v-52.6c0-8.1-6.1-14.9-14.1-15.9l-160.6-19c-9.2-1.1-17.3 6.1-17.3 15.4 0 6.5 4 12.3 10.1 14.5l172.7 64c.8.3 1.6.4 2.4.4zM57.7 382.9l170.9 20.2c7.8.9 13.4-7.5 9.5-14.3l-85.7-150c-5.9-10.4-20.7-10.8-27.3-.8L46.2 358.2c-6.5 9.9-.3 23.3 11.5 24.7zm439.6-24.8-78.4-120c-6.5-10-21.4-9.6-27.3.8l-85.4 149.6c-3.9 6.8 1.6 15.2 9.5 14.3l170.1-20c11.8-1.4 18-14.7 11.5-24.6zm-216.9 11 78.4-137.2c6.1-10.7-1.6-23.9-13.9-23.9H199.1c-12.3 0-20 13.3-13.9 23.9l78.4 137.2c3.7 6.4 13 6.4 16.7 0zm-90-193.1h163.2c12.2 0 19.9-13.1 14-23.8l-80-144c-2.8-5.1-8.2-8.2-14-8.2h-3.2c-5.8 0-11.2 3.2-14 8.2l-80 144c-5.9 10.7 1.8 23.8 14 23.8z"></path></svg> </a> 🤓 🐐‍💨‍🎂 </label> <div class=md-nav__source> <a class=md-source data-md-component=source href=https://github.com/hsmalley/hsmalley title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class=md-source__repository> hsmalley.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../..> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_2 type=checkbox> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Blog <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_2_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../blog/IPFS%20Second%20Post/ class=md-nav__link> This is My Second IPFS Post </a> </li> <li class=md-nav__item> <a href=../../blog/Markdown%20Metadata/ class=md-nav__link> Markdown Metadata, its meta-tastic! </a> </li> <li class=md-nav__item> <a href=../../blog/ipfs-first-post/ class=md-nav__link> This is My First IPFS Post </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" id=__nav_3 type=checkbox> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> How to <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=true aria-labelledby=__nav_3_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> How to </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Ansible%20-%20Playbooks/ class=md-nav__link> Ansible - How to write a playbook </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> Ansible - Getting Started <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Ansible - Getting Started </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#getting-started> Getting Started </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#my-first-inventory-file> My First Inventory File </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#yaml-what-the-hell-is-a-yaml> Yaml? What the Hell is a Yaml? </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#my-first-playbook> My First Playbook </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#digressions-aside-how-do-you-actually-run-the-damn-thing> Digressions Aside; how Do You Actually Run the Damn Thing!? </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#the-end-ish> The End-ish </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Bash/ class=md-nav__link> Bash </a> </li> <li class=md-nav__item> <a href=../FFMPEG/ class=md-nav__link> FFMPEG </a> </li> <li class=md-nav__item> <a href=../GIT/ class=md-nav__link> GIT </a> </li> <li class=md-nav__item> <a href=../JSON/ class=md-nav__link> JSON </a> </li> <li class=md-nav__item> <a href=../LXC%20Image%20Creation/ class=md-nav__link> LXC - Image Creation </a> </li> <li class=md-nav__item> <a href=../Linux/ class=md-nav__link> Linux </a> </li> <li class=md-nav__item> <a href=../MDRAID/ class=md-nav__link> MDRAID </a> </li> <li class=md-nav__item> <a href=../MTR/ class=md-nav__link> MTR </a> </li> <li class=md-nav__item> <a href=../MySQL/ class=md-nav__link> MYSQL </a> </li> <li class=md-nav__item> <a href=../Podman/ class=md-nav__link> Containers </a> </li> <li class=md-nav__item> <a href=../Python/ class=md-nav__link> Python </a> </li> <li class=md-nav__item> <a href=../SSH/ class=md-nav__link> SSH </a> </li> <li class=md-nav__item> <a href=../SVN/ class=md-nav__link> SVN </a> </li> <li class=md-nav__item> <a href=../TAR/ class=md-nav__link> TAR </a> </li> <li class=md-nav__item> <a href=../TMUX/ class=md-nav__link> TMUX </a> </li> <li class=md-nav__item> <a href=../Taskfile/ class=md-nav__link> Taskfile.yml </a> </li> <li class=md-nav__item> <a href=../VIM/ class=md-nav__link> VIM </a> </li> <li class=md-nav__item> <a href=../Windows/ class=md-nav__link> Windows </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4 type=checkbox> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Recipes <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_4_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Recipes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../recipes/Marry%20Me%20Chicken/ class=md-nav__link> Marry Me Chicken </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../blog/ class=md-nav__link> About Me </a> </li> <li class=md-nav__item> <a href=../../resume/ class=md-nav__link> Resume </a> </li> <li class=md-nav__item> <a href=../../tags/ class=md-nav__link> Tags </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#getting-started> Getting Started </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#my-first-inventory-file> My First Inventory File </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#yaml-what-the-hell-is-a-yaml> Yaml? What the Hell is a Yaml? </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#my-first-playbook> My First Playbook </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#digressions-aside-how-do-you-actually-run-the-damn-thing> Digressions Aside; how Do You Actually Run the Damn Thing!? </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#the-end-ish> The End-ish </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <nav class=md-tags> <a class=md-tag href=../../tags/#ansible>ansible</a> <a class=md-tag href=../../tags/#ssh>ssh</a> </nav> <h1 id=ansible-or-how-to-mess-up-at-scale>Ansible or How to Mess up <strong>AT SCALE!</strong></h1> <h2 id=getting-started>Getting Started</h2> <p>To get started you will need two things: Text Editor, Python 3. You can use whatever text editor you want to use, Visual Studio Code is a popular one that runs almost anywhere. As long as you're comfortable with it, use it. If you can run python and ssh you have everything else you need.</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <ul> <li> <blockquote> <p>It is possible to run this on Windows itself, I do not use Windows so I can not help too much. If you have WSL working then you should be able to everything. If you're having problems we do have other systems that can be used</p> </blockquote> </li> </ul> <div class="admonition hint"> <p class=admonition-title> </p> <p>Ansible is in most package repos, for this we're using ansible-core. I recommend you install it via pip to you can ensure you have the same thing as we use in prod</p> </div> <p>Installing ansible is pretty easy, either use your package manager or pip</p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=c1># pip</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>pip<span class=w> </span>install<span class=w> </span>--user<span class=w> </span>ansible-core
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=c1># Redhat Systems</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>dnf<span class=w> </span>install<span class=w> </span>ansible
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=c1># Debian Systems</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a>apt<span class=w> </span>install<span class=w> </span>ansible
</span></code></pre></div> <p>Once you have ansible installed let's run our first command to make sure everything is in good working order <code>ansible -i localhost localhost -m ping</code></p> <div class="admonition success"> <p class=admonition-title>Success</p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a>❯<span class=w> </span>ansible<span class=w> </span>localhost<span class=w> </span>-m<span class=w> </span>ping
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a>localhost<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>SUCCESS</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span><span class=o>{</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a><span class=w>    </span><span class=s2>"changed"</span>:<span class=w> </span>false,
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a><span class=w>    </span><span class=s2>"ping"</span>:<span class=w> </span><span class=s2>"pong"</span>
</span><span id=__span-1-5><a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a><span class=o>}</span>
</span></code></pre></div> </div> <p>See that was pretty easy!</p> <h2 id=my-first-inventory-file>My First Inventory File</h2> <p>The next thing we're going to do is create a very simple inventory.ini file.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class="language-ini highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=k>[mygroup_name]</span>
</span><span id=__span-2-2><a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a><span class=na>localhost</span>
</span></code></pre></div> </div> <p>This file does one thing, tells ansible that <code>localhost</code> is in <code>my_group</code></p> <p>That's all it does! Let's run our command again, this time using the inventory file.</p> <div class="admonition success"> <p class=admonition-title>Success</p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-3-1><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a>❯<span class=w> </span>ansible<span class=w> </span>-i<span class=w> </span>inventory.ini<span class=w> </span>my_group<span class=w> </span>-m<span class=w> </span>ping
</span><span id=__span-3-2><a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>localhost<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>SUCCESS</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span><span class=o>{</span>
</span><span id=__span-3-3><a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a><span class=w>    </span><span class=s2>"changed"</span>:<span class=w> </span>false,
</span><span id=__span-3-4><a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a><span class=w>    </span><span class=s2>"ping"</span>:<span class=w> </span><span class=s2>"pong"</span>
</span></code></pre></div> </div> <p>So we told ansible to use our inventory file <code>-i inventory.ini</code> and that we want to connect to <code>my_group</code> and run the ping module.</p> <div class="admonition hint"> <p class=admonition-title> </p> <p>What if we wanted to run against all the hosts in our inventory file? We would use the special group named <code>all</code></p> <blockquote> <p>[!success]</p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-4-1><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a>❯<span class=w> </span>ansible<span class=w> </span>-i<span class=w> </span>inventory.ini<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>ping
</span><span id=__span-4-2><a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a>localhost<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>SUCCESS</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span><span class=o>{</span>
</span><span id=__span-4-3><a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a><span class=w>   </span><span class=s2>"ansible_facts"</span>:<span class=w> </span><span class=o>{</span>
</span><span id=__span-4-4><a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a><span class=w>       </span><span class=s2>"discovered_interpreter_python"</span>:<span class=w> </span><span class=s2>"/usr/bin/python3"</span>
</span><span id=__span-4-5><a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a><span class=w>   </span><span class=o>}</span>,
</span><span id=__span-4-6><a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a><span class=w>   </span><span class=s2>"changed"</span>:<span class=w> </span>false,
</span><span id=__span-4-7><a href=#__codelineno-4-7 id=__codelineno-4-7 name=__codelineno-4-7></a><span class=w>   </span><span class=s2>"ping"</span>:<span class=w> </span><span class=s2>"pong"</span>
</span><span id=__span-4-8><a href=#__codelineno-4-8 id=__codelineno-4-8 name=__codelineno-4-8></a><span class=o>}</span>
</span></code></pre></div> </blockquote> </div> <p>We can run commands too!</p> <div class="admonition success"> <p class=admonition-title>Success</p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-5-1><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a>❯<span class=w> </span>ansible<span class=w> </span>localhost<span class=w> </span>-m<span class=w> </span>ansible.builtin.command<span class=w> </span>-a<span class=w> </span><span class=s2>"ls"</span>
</span><span id=__span-5-2><a href=#__codelineno-5-2 id=__codelineno-5-2 name=__codelineno-5-2></a>localhost<span class=w> </span><span class=p>|</span><span class=w> </span>CHANGED<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>rc</span><span class=o>=</span><span class=m>0</span><span class=w> </span>&gt;&gt;
</span><span id=__span-5-3><a href=#__codelineno-5-3 id=__codelineno-5-3 name=__codelineno-5-3></a>Applications
</span><span id=__span-5-4><a href=#__codelineno-5-4 id=__codelineno-5-4 name=__codelineno-5-4></a>Desktop
</span><span id=__span-5-5><a href=#__codelineno-5-5 id=__codelineno-5-5 name=__codelineno-5-5></a>Documents
</span><span id=__span-5-6><a href=#__codelineno-5-6 id=__codelineno-5-6 name=__codelineno-5-6></a>Downloads
</span><span id=__span-5-7><a href=#__codelineno-5-7 id=__codelineno-5-7 name=__codelineno-5-7></a>Library
</span><span id=__span-5-8><a href=#__codelineno-5-8 id=__codelineno-5-8 name=__codelineno-5-8></a>Old<span class=w> </span>Laptop
</span><span id=__span-5-9><a href=#__codelineno-5-9 id=__codelineno-5-9 name=__codelineno-5-9></a>OneDrive<span class=w> </span>-<span class=w> </span>Reed<span class=w> </span>Elsevier<span class=w> </span>Group<span class=w> </span>ICO<span class=w> </span>Reed<span class=w> </span>Elsevier<span class=w> </span>Inc
</span><span id=__span-5-10><a href=#__codelineno-5-10 id=__codelineno-5-10 name=__codelineno-5-10></a>Pictures
</span><span id=__span-5-11><a href=#__codelineno-5-11 id=__codelineno-5-11 name=__codelineno-5-11></a>Public
</span><span id=__span-5-12><a href=#__codelineno-5-12 id=__codelineno-5-12 name=__codelineno-5-12></a>git
</span><span id=__span-5-13><a href=#__codelineno-5-13 id=__codelineno-5-13 name=__codelineno-5-13></a>inventory.ini
</span><span id=__span-5-14><a href=#__codelineno-5-14 id=__codelineno-5-14 name=__codelineno-5-14></a>svn
</span></code></pre></div> </div> <p>This told ansible that I want to run <code>ls</code> on <code>localhost</code> Let's try something a little more fun!</p> <div class="admonition success"> <p class=admonition-title>Success</p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-6-1><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a>❯<span class=w> </span>ansible<span class=w> </span>-i<span class=w> </span>inventory.ini<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>ansible.builtin.command<span class=w> </span>-a<span class=w> </span><span class=s2>"echo (╯°□°)╯︵ ┻━┻ D O N T P A N I C"</span>
</span><span id=__span-6-2><a href=#__codelineno-6-2 id=__codelineno-6-2 name=__codelineno-6-2></a>localhost<span class=w> </span><span class=p>|</span><span class=w> </span>CHANGED<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>rc</span><span class=o>=</span><span class=m>0</span><span class=w> </span>&gt;&gt;
</span><span id=__span-6-3><a href=#__codelineno-6-3 id=__codelineno-6-3 name=__codelineno-6-3></a><span class=o>(</span>╯°□°<span class=o>)</span>╯︵<span class=w> </span>┻━┻<span class=w> </span>D<span class=w> </span>O<span class=w> </span>N<span class=w> </span>T<span class=w> </span>P<span class=w> </span>A<span class=w> </span>N<span class=w> </span>I<span class=w> </span>C
</span></code></pre></div> </div> <p>What changed there? We told ansible that we want to use the <code>ansible.builtin.command</code> module. Ansible assumes that if you do not specify a module name that you just want to run an <a href=https://docs.ansible.com/ansible/latest/command_guide/intro_adhoc.html>adhoc</a> command. So what's a module? Simply put module is a connection of stuff that tells ansible how to do do stuff.</p> <p>Let's take this another step farther, how about we use ansible to make sure my mac does not have the dreaded <code>sl</code> command!</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-7-1><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a>❯<span class=w> </span>ansible<span class=w> </span>-i<span class=w> </span>inventory.ini<span class=w> </span>my_group<span class=w> </span>-m<span class=w> </span>community.general.homebrew<span class=w> </span>-a<span class=w> </span><span class=s2>"name=sl state=absent"</span><span class=w> </span>localhost<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>SUCCESS</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span><span class=o>{</span>
</span><span id=__span-7-2><a href=#__codelineno-7-2 id=__codelineno-7-2 name=__codelineno-7-2></a><span class=w>   </span><span class=s2>"changed"</span>:<span class=w> </span>false,
</span><span id=__span-7-3><a href=#__codelineno-7-3 id=__codelineno-7-3 name=__codelineno-7-3></a><span class=w>   </span><span class=s2>"changed_pkgs"</span>:<span class=w> </span><span class=o>[]</span>,
</span><span id=__span-7-4><a href=#__codelineno-7-4 id=__codelineno-7-4 name=__codelineno-7-4></a><span class=w>   </span><span class=s2>"msg"</span>:<span class=w> </span><span class=s2>"Package already uninstalled: sl"</span>,
</span><span id=__span-7-5><a href=#__codelineno-7-5 id=__codelineno-7-5 name=__codelineno-7-5></a><span class=w>   </span><span class=s2>"unchanged_pkgs"</span>:<span class=w> </span><span class=o>[</span>
</span><span id=__span-7-6><a href=#__codelineno-7-6 id=__codelineno-7-6 name=__codelineno-7-6></a><span class=w>       </span><span class=s2>"sl"</span>
</span><span id=__span-7-7><a href=#__codelineno-7-7 id=__codelineno-7-7 name=__codelineno-7-7></a><span class=w>   </span><span class=o>]</span>
</span><span id=__span-7-8><a href=#__codelineno-7-8 id=__codelineno-7-8 name=__codelineno-7-8></a><span class=o>}</span>
</span></code></pre></div> </div> <p>We can see that it says <code>"changed:" false</code> that means that it was not there. So no worries about <a href=https://github.com/mtoyoda/sl>being punished</a> for messing up up a <code>ls</code></p> <p>And now let's make sure I have the wonderful <a href=http://caca.zoy.org/wiki/toilet><code>toilet</code></a> command!</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-8-1><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a>❯<span class=w> </span>ansible<span class=w> </span>localhost<span class=w> </span>-m<span class=w> </span>community.general.homebrew<span class=w> </span>-a<span class=w> </span><span class=s2>"name=toilet state=present"</span>
</span><span id=__span-8-2><a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a>localhost<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>CHANGED</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span><span class=o>{</span>
</span><span id=__span-8-3><a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a><span class=w>   </span><span class=s2>"changed"</span>:<span class=w> </span>true,
</span><span id=__span-8-4><a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a><span class=w>   </span><span class=s2>"changed_pkgs"</span>:<span class=w> </span><span class=o>[</span>
</span><span id=__span-8-5><a href=#__codelineno-8-5 id=__codelineno-8-5 name=__codelineno-8-5></a><span class=w>       </span><span class=s2>"toilet"</span>
</span><span id=__span-8-6><a href=#__codelineno-8-6 id=__codelineno-8-6 name=__codelineno-8-6></a><span class=w>   </span><span class=o>]</span>,
</span><span id=__span-8-7><a href=#__codelineno-8-7 id=__codelineno-8-7 name=__codelineno-8-7></a><span class=w>   </span><span class=s2>"msg"</span>:<span class=w> </span><span class=s2>"Package installed: toilet"</span>,
</span><span id=__span-8-8><a href=#__codelineno-8-8 id=__codelineno-8-8 name=__codelineno-8-8></a><span class=w>   </span><span class=s2>"unchanged_pkgs"</span>:<span class=w> </span><span class=o>[]</span>
</span><span id=__span-8-9><a href=#__codelineno-8-9 id=__codelineno-8-9 name=__codelineno-8-9></a><span class=o>}</span>
</span></code></pre></div> </div> <p>So now we know how to use ad hoc commands. We can run them on all the hosts in our inventory file or just a group. What if we want to do more?</p> <div class="admonition tip"> <p class=admonition-title> </p> <p>Using the flag <code>--limit</code> we can limit ansible to one host or just a group of hosts e.g. <code>-- limit hostname.here.local</code></p> </div> <h2 id=yaml-what-the-hell-is-a-yaml>Yaml? What the Hell is a Yaml?</h2> <p>YAML stands for <a href="[YAML Ain’t Markup Language (YAML™) revision 1.2.2](https://yaml.org/spec/1.2.2/)"><em>YAML Ain’t Markup Language.</em></a> It's what most things use to store key value pairs in a way that humans can manage and understand without too much help. Pretty much everything with Ansible, (and most <em>cloud</em> stuff), uses yaml. When it comes to ansible it only cares about the content of the file and not the name, so you can use <code>.yml</code> or<code>.yaml</code>it only really matters to the humans (and sometimes Windows)</p> <div class="admonition tip"> <p class=admonition-title> </p> <p>Yaml can be a real pain so do yourself a favor, use a linter<br> <code>pip install --user yamllint yamlfix prettier</code></p> </div> <div class="admonition info"> <p class=admonition-title>What the hell is a linter? </p> <p>A linter is something that makes sure you code is functional. It will let you know where things are broken and maybe give you a hint on how to fix it. A formatter can help with that, while It doesn't check if it is actually good or functional it tries to make it readable. So you should be using <code>yamllint</code> to check your files for problems and <code>yamlfix</code> to help fix them automatically. Once your good you can use <code>prettier -w</code> to make it pretty. Don't worry, there's ways of automating this</p> </div> <p>Let's just jump right into the deep end and make an inventory file using yaml. Ideally any inventory file you will be using will be some kind of yaml. It doesn't matter if it's for ansible or kubernetes for example. Let's take a look at a simple inventory.yaml file</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-9-1><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a><span class=nn>---</span>
</span><span id=__span-9-2><a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a><span class=nt>all</span><span class=p>:</span>
</span><span id=__span-9-3><a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span>
</span><span id=__span-9-4><a href=#__codelineno-9-4 id=__codelineno-9-4 name=__codelineno-9-4></a><span class=w>    </span><span class=nt>alice</span><span class=p>:</span>
</span><span id=__span-9-5><a href=#__codelineno-9-5 id=__codelineno-9-5 name=__codelineno-9-5></a><span class=w>    </span><span class=nt>bob</span><span class=p>:</span>
</span></code></pre></div> </div> <p>Here way have two hosts: alice &amp; bob. If this was in ini it would look like</p> <div class="language-ini highlight"><pre><span></span><code><span id=__span-10-1><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a><span class=k>[hosts]</span>
</span><span id=__span-10-2><a href=#__codelineno-10-2 id=__codelineno-10-2 name=__codelineno-10-2></a><span class=na>alice</span>
</span><span id=__span-10-3><a href=#__codelineno-10-3 id=__codelineno-10-3 name=__codelineno-10-3></a><span class=na>bob</span>
</span></code></pre></div> <p>So not much of a different from our first inventory.ini We can check this file with the <code>ansible-inventory</code> command</p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-11-1><a href=#__codelineno-11-1 id=__codelineno-11-1 name=__codelineno-11-1></a>❯<span class=w> </span>ansible-inventory<span class=w> </span>-i<span class=w> </span>simple.yml<span class=w> </span>--graph
</span><span id=__span-11-2><a href=#__codelineno-11-2 id=__codelineno-11-2 name=__codelineno-11-2></a>@all:
</span><span id=__span-11-3><a href=#__codelineno-11-3 id=__codelineno-11-3 name=__codelineno-11-3></a><span class=w>  </span><span class=p>|</span>--@ungrouped:
</span><span id=__span-11-4><a href=#__codelineno-11-4 id=__codelineno-11-4 name=__codelineno-11-4></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--alice
</span><span id=__span-11-5><a href=#__codelineno-11-5 id=__codelineno-11-5 name=__codelineno-11-5></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--bob
</span></code></pre></div> <p>Nothing really complex so far, let's add some more hosts and groups into our inventory.yml</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-12-1><a href=#__codelineno-12-1 id=__codelineno-12-1 name=__codelineno-12-1></a><span class=nt>--all</span><span class=p>:</span>
</span><span id=__span-12-2><a href=#__codelineno-12-2 id=__codelineno-12-2 name=__codelineno-12-2></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span>
</span><span id=__span-12-3><a href=#__codelineno-12-3 id=__codelineno-12-3 name=__codelineno-12-3></a><span class=w>    </span><span class=nt>alice</span><span class=p>:</span>
</span><span id=__span-12-4><a href=#__codelineno-12-4 id=__codelineno-12-4 name=__codelineno-12-4></a><span class=w>    </span><span class=nt>bob</span><span class=p>:</span>
</span><span id=__span-12-5><a href=#__codelineno-12-5 id=__codelineno-12-5 name=__codelineno-12-5></a><span class=w>  </span><span class=nt>children</span><span class=p>:</span>
</span><span id=__span-12-6><a href=#__codelineno-12-6 id=__codelineno-12-6 name=__codelineno-12-6></a><span class=w>    </span><span class=nt>group_1</span><span class=p>:</span>
</span><span id=__span-12-7><a href=#__codelineno-12-7 id=__codelineno-12-7 name=__codelineno-12-7></a><span class=w>      </span><span class=nt>hosts</span><span class=p>:</span>
</span><span id=__span-12-8><a href=#__codelineno-12-8 id=__codelineno-12-8 name=__codelineno-12-8></a><span class=w>        </span><span class=nt>strangechicken</span><span class=p>:</span>
</span><span id=__span-12-9><a href=#__codelineno-12-9 id=__codelineno-12-9 name=__codelineno-12-9></a><span class=w>        </span><span class=nt>tumescentcloaca</span><span class=p>:</span>
</span><span id=__span-12-10><a href=#__codelineno-12-10 id=__codelineno-12-10 name=__codelineno-12-10></a><span class=w>    </span><span class=nt>group_2</span><span class=p>:</span>
</span><span id=__span-12-11><a href=#__codelineno-12-11 id=__codelineno-12-11 name=__codelineno-12-11></a><span class=w>      </span><span class=nt>hosts</span><span class=p>:</span>
</span><span id=__span-12-12><a href=#__codelineno-12-12 id=__codelineno-12-12 name=__codelineno-12-12></a><span class=w>        </span><span class=nt>wowzer</span><span class=p>:</span>
</span><span id=__span-12-13><a href=#__codelineno-12-13 id=__codelineno-12-13 name=__codelineno-12-13></a><span class=w>        </span><span class=nt>imaproblem</span><span class=p>:</span>
</span><span id=__span-12-14><a href=#__codelineno-12-14 id=__codelineno-12-14 name=__codelineno-12-14></a><span class=w>    </span><span class=nt>group_3</span><span class=p>:</span>
</span><span id=__span-12-15><a href=#__codelineno-12-15 id=__codelineno-12-15 name=__codelineno-12-15></a><span class=w>      </span><span class=nt>hosts</span><span class=p>:</span>
</span><span id=__span-12-16><a href=#__codelineno-12-16 id=__codelineno-12-16 name=__codelineno-12-16></a><span class=w>        </span><span class=nt>group_1</span><span class=p>:</span>
</span><span id=__span-12-17><a href=#__codelineno-12-17 id=__codelineno-12-17 name=__codelineno-12-17></a><span class=w>        </span><span class=nt>alice</span><span class=p>:</span>
</span><span id=__span-12-18><a href=#__codelineno-12-18 id=__codelineno-12-18 name=__codelineno-12-18></a><span class=w>    </span><span class=nt>group_4</span><span class=p>:</span>
</span><span id=__span-12-19><a href=#__codelineno-12-19 id=__codelineno-12-19 name=__codelineno-12-19></a><span class=w>      </span><span class=nt>hosts</span><span class=p>:</span>
</span><span id=__span-12-20><a href=#__codelineno-12-20 id=__codelineno-12-20 name=__codelineno-12-20></a><span class=w>        </span><span class=nt>group_2</span><span class=p>:</span>
</span><span id=__span-12-21><a href=#__codelineno-12-21 id=__codelineno-12-21 name=__codelineno-12-21></a><span class=w>        </span><span class=nt>bob</span><span class=p>:</span>
</span><span id=__span-12-22><a href=#__codelineno-12-22 id=__codelineno-12-22 name=__codelineno-12-22></a><span class=w>    </span><span class=nt>group_5</span><span class=p>:</span>
</span><span id=__span-12-23><a href=#__codelineno-12-23 id=__codelineno-12-23 name=__codelineno-12-23></a><span class=w>      </span><span class=nt>hosts</span><span class=p>:</span>
</span><span id=__span-12-24><a href=#__codelineno-12-24 id=__codelineno-12-24 name=__codelineno-12-24></a><span class=w>        </span><span class=nt>group_3</span><span class=p>:</span>
</span><span id=__span-12-25><a href=#__codelineno-12-25 id=__codelineno-12-25 name=__codelineno-12-25></a><span class=w>        </span><span class=nt>group_4</span><span class=p>:</span>
</span></code></pre></div> </div> <p>As you can see we can have many groups even groups that have other groups inside them. We can keep nesting groups as long as we follow the hosts, children, hosts naming. We can make sure this is a valid inventory by looking at with <code>ansible-inventory</code></p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-13-1><a href=#__codelineno-13-1 id=__codelineno-13-1 name=__codelineno-13-1></a>❯<span class=w> </span>ansible-inventory<span class=w> </span>-i<span class=w> </span>inventory.yml<span class=w> </span>--graph
</span><span id=__span-13-2><a href=#__codelineno-13-2 id=__codelineno-13-2 name=__codelineno-13-2></a>@all:
</span><span id=__span-13-3><a href=#__codelineno-13-3 id=__codelineno-13-3 name=__codelineno-13-3></a><span class=w>  </span><span class=p>|</span>--@ungrouped:
</span><span id=__span-13-4><a href=#__codelineno-13-4 id=__codelineno-13-4 name=__codelineno-13-4></a><span class=w>  </span><span class=p>|</span>--@group_1:
</span><span id=__span-13-5><a href=#__codelineno-13-5 id=__codelineno-13-5 name=__codelineno-13-5></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--strangechicken
</span><span id=__span-13-6><a href=#__codelineno-13-6 id=__codelineno-13-6 name=__codelineno-13-6></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--tumescentcloaca
</span><span id=__span-13-7><a href=#__codelineno-13-7 id=__codelineno-13-7 name=__codelineno-13-7></a><span class=w>  </span><span class=p>|</span>--@group_2:
</span><span id=__span-13-8><a href=#__codelineno-13-8 id=__codelineno-13-8 name=__codelineno-13-8></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--wowzer
</span><span id=__span-13-9><a href=#__codelineno-13-9 id=__codelineno-13-9 name=__codelineno-13-9></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--imaproblem
</span><span id=__span-13-10><a href=#__codelineno-13-10 id=__codelineno-13-10 name=__codelineno-13-10></a><span class=w>  </span><span class=p>|</span>--@group_3:
</span><span id=__span-13-11><a href=#__codelineno-13-11 id=__codelineno-13-11 name=__codelineno-13-11></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--group_1
</span><span id=__span-13-12><a href=#__codelineno-13-12 id=__codelineno-13-12 name=__codelineno-13-12></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--alice
</span><span id=__span-13-13><a href=#__codelineno-13-13 id=__codelineno-13-13 name=__codelineno-13-13></a><span class=w>  </span><span class=p>|</span>--@group_4:
</span><span id=__span-13-14><a href=#__codelineno-13-14 id=__codelineno-13-14 name=__codelineno-13-14></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--group_2
</span><span id=__span-13-15><a href=#__codelineno-13-15 id=__codelineno-13-15 name=__codelineno-13-15></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--bob
</span><span id=__span-13-16><a href=#__codelineno-13-16 id=__codelineno-13-16 name=__codelineno-13-16></a><span class=w>  </span><span class=p>|</span>--@group_5:
</span><span id=__span-13-17><a href=#__codelineno-13-17 id=__codelineno-13-17 name=__codelineno-13-17></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--group_3
</span><span id=__span-13-18><a href=#__codelineno-13-18 id=__codelineno-13-18 name=__codelineno-13-18></a><span class=w>  </span><span class=p>|</span><span class=w>  </span><span class=p>|</span>--group_4
</span></code></pre></div> <h2 id=my-first-playbook>My First Playbook</h2> <p>Now running commands one at a time is fine but it's a lot more fun to have something that does a lot of things on a lot of things. This is where Ansible shines!</p> <p>This is also where things start to get more information dense. So buckle up!</p> <p>Ansible will not change anything that doesn't need to be changed, this is important for ensuring something called <em>idempotency.</em> That means that no matter how many times we run the same thing, we're going to get the same results.</p> <p>Let's take a look at a simple but real playbook: <code>change_genesis.yml</code></p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-14-1><a href=#__codelineno-14-1 id=__codelineno-14-1 name=__codelineno-14-1></a><span class=nn>---</span>
</span><span id=__span-14-2><a href=#__codelineno-14-2 id=__codelineno-14-2 name=__codelineno-14-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Change Genesis Server</span>
</span><span id=__span-14-3><a href=#__codelineno-14-3 id=__codelineno-14-3 name=__codelineno-14-3></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
</span><span id=__span-14-4><a href=#__codelineno-14-4 id=__codelineno-14-4 name=__codelineno-14-4></a><span class=w>  </span><span class=nt>become</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-14-5><a href=#__codelineno-14-5 id=__codelineno-14-5 name=__codelineno-14-5></a><span class=w>  </span><span class=nt>vars</span><span class=p>:</span>
</span><span id=__span-14-6><a href=#__codelineno-14-6 id=__codelineno-14-6 name=__codelineno-14-6></a><span class=w>    </span><span class=nt>genesis_ip</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10.194.118.129</span>
</span><span id=__span-14-7><a href=#__codelineno-14-7 id=__codelineno-14-7 name=__codelineno-14-7></a><span class=w>    </span><span class=nt>files_to_change</span><span class=p>:</span>
</span><span id=__span-14-8><a href=#__codelineno-14-8 id=__codelineno-14-8 name=__codelineno-14-8></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/profile.d/genesis.sh</span>
</span><span id=__span-14-9><a href=#__codelineno-14-9 id=__codelineno-14-9 name=__codelineno-14-9></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/resolv.conf</span>
</span><span id=__span-14-10><a href=#__codelineno-14-10 id=__codelineno-14-10 name=__codelineno-14-10></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/profile.d/yum.sh</span>
</span><span id=__span-14-11><a href=#__codelineno-14-11 id=__codelineno-14-11 name=__codelineno-14-11></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
</span><span id=__span-14-12><a href=#__codelineno-14-12 id=__codelineno-14-12 name=__codelineno-14-12></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Replace Bad Genesis</span>
</span><span id=__span-14-13><a href=#__codelineno-14-13 id=__codelineno-14-13 name=__codelineno-14-13></a><span class=w>      </span><span class=nt>ansible.builtin.replace</span><span class=p>:</span>
</span><span id=__span-14-14><a href=#__codelineno-14-14 id=__codelineno-14-14 name=__codelineno-14-14></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class=s>"{{</span><span class=nv> </span><span class=s>item</span><span class=nv> </span><span class=s>}}"</span>
</span><span id=__span-14-15><a href=#__codelineno-14-15 id=__codelineno-14-15 name=__codelineno-14-15></a><span class=w>        </span><span class=nt>regexp</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10\.173\.0\.129</span>
</span><span id=__span-14-16><a href=#__codelineno-14-16 id=__codelineno-14-16 name=__codelineno-14-16></a><span class=w>        </span><span class=nt>replace</span><span class=p>:</span><span class=w> </span><span class=s>"{{</span><span class=nv> </span><span class=s>genesis_ip</span><span class=nv> </span><span class=s>}}"</span>
</span><span id=__span-14-17><a href=#__codelineno-14-17 id=__codelineno-14-17 name=__codelineno-14-17></a><span class=w>      </span><span class=nt>loop</span><span class=p>:</span><span class=w> </span><span class=s>"{{</span><span class=nv> </span><span class=s>files_to_change</span><span class=nv> </span><span class=s>}}"</span>
</span></code></pre></div> </div> <p>So what does this do? It may look complicated but it's fairly simple. This says look at these files for this string and replace it with that string.</p> <p>Starting from the top we have <code>name:</code> this is the name of the play. The play is what ansible calls it's group of actions or a single action. All plays should be named starting with a capital letter and end with a letter. It will still work if you do not do this, but it will complain the entire time. Kinda like when you don't put on your seat belt…</p> <p>Next <code>hosts:</code> and <code>become:</code> this is the host, hosts, and or group name to run this on. Most of the time this is going to set to <code>all</code>. <code>become:</code> tells ansible that it needs to use sudo aka root powers to do these tasks. The higher up in the play the more things will use sudo powers.</p> <p>Now <code>vars:</code> is a special:</p> <p>Like <code>become:</code> it can be used most anywhere in a play, or it can reference other yaml files. So if we were to put vars in something like our inventory file it would apply per host, per group, or even for everything! In this case we're only saying that the plays before need these variables. Variables can also be anything we want. If I want foo to have the value of bar then I put <code>foo: bar</code>.</p> <p><code>genesis_ip:</code> is the ip to the genesis server in this case we're using<code>10.194.118.129</code><br> <code>files_to_change:</code> lists the files that we need to check.</p> <p>Further down we get to <code>tasks:</code> tasks are the plays that that playbook is running. In this case we have single play named <code>Replace Bad Genesis</code>. The module name is <code>ansible.builtin.replace</code> that makes it function like <code>sed</code>. The next lines are telling it where and what. <code>dest:</code> is the destination file, <code>regexp:</code> is a <a href=https://en.wikipedia.org/wiki/Regular_expression>regular expression,</a> and <code>replace:</code> is what is going to replace the matched expression.</p> <p>This play has something special attached to it called a <code>loop:</code> this tells the play that there's going to be more things to do so it will function in a loop, kind of like <code>for x in</code> a bash loop.</p> <p>When you call a variable in you have to use another kind of language aside from yaml. It's a templating language/engine called <a href=https://en.wikipedia.org/wiki/Jinja_(template_engine)>Jinja2</a>. Templating languages (engines) have been around for long time. They allow us to define how things should look while still allowing us to program-maticly change things. DO NOT WORRY, much like regex, you will not need to know it like you will need to understand yaml.</p> <p>To call variables we're using jinja values. So in this case the files are represented by <code>"{{ item }}"</code> and the list of files is represented by <code>" {{ files_to_change }}"</code> this is more than likely the most complex jinja you will have to remember. The various linter's will handle the rest if you mess it up. So do not worry to much!</p> <p>Let's look at the same thing done in bash</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-15-1><a href=#__codelineno-15-1 id=__codelineno-15-1 name=__codelineno-15-1></a>sed<span class=w> </span>-i<span class=w> </span><span class=s1>'s/10.173.0129/10.194.118.129/g'</span><span class=w> </span>/etc/profile.d/genesis.sh
</span><span id=__span-15-2><a href=#__codelineno-15-2 id=__codelineno-15-2 name=__codelineno-15-2></a>sed<span class=w> </span>-i<span class=w> </span><span class=s1>'s/10.173.0129/10.194.118.129/g'</span><span class=w> </span>/etc/resolv.conf
</span><span id=__span-15-3><a href=#__codelineno-15-3 id=__codelineno-15-3 name=__codelineno-15-3></a>sed<span class=w> </span>-i<span class=w> </span><span class=s1>'s/10.173.0129/10.194.118.129/g'</span><span class=w> </span>/etc/profile.d/yum.sh
</span></code></pre></div> </div> <p>Now lets look at a script to do the same thing</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class="language-shell highlight"><pre><span></span><code><span id=__span-16-1><a href=#__codelineno-16-1 id=__codelineno-16-1 name=__codelineno-16-1></a><span class=ch>#!/bin/bash</span>
</span><span id=__span-16-2><a href=#__codelineno-16-2 id=__codelineno-16-2 name=__codelineno-16-2></a><span class=nv>genesis_ip</span><span class=o>=</span><span class=m>10</span>.194.119.129
</span><span id=__span-16-3><a href=#__codelineno-16-3 id=__codelineno-16-3 name=__codelineno-16-3></a><span class=nv>bad_genesis</span><span class=o>=</span><span class=m>10</span>.173.0.129
</span><span id=__span-16-4><a href=#__codelineno-16-4 id=__codelineno-16-4 name=__codelineno-16-4></a><span class=nv>files</span><span class=o>=(</span>/etc/profile.d/yum.sh,<span class=w> </span>/etc/resolv.conf,<span class=w> </span>/etc/profile.d/yum.sh<span class=o>)</span>
</span><span id=__span-16-5><a href=#__codelineno-16-5 id=__codelineno-16-5 name=__codelineno-16-5></a><span class=k>for</span><span class=w> </span>file<span class=w> </span><span class=k>in</span><span class=w> </span><span class=si>${</span><span class=nv>files</span><span class=p>[@]</span><span class=si>}</span><span class=p>;</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-16-6><a href=#__codelineno-16-6 id=__codelineno-16-6 name=__codelineno-16-6></a><span class=w>  </span>sed<span class=w> </span>-i<span class=w> </span><span class=s2>"s/</span><span class=si>${</span><span class=nv>bad_genesis</span><span class=si>}</span><span class=s2>/</span><span class=si>${</span><span class=nv>genesis_ip</span><span class=si>}</span><span class=s2>/g"</span><span class=w> </span><span class=s2>"</span><span class=si>${</span><span class=nv>file</span><span class=si>}</span><span class=s2>"</span>
</span><span id=__span-16-7><a href=#__codelineno-16-7 id=__codelineno-16-7 name=__codelineno-16-7></a><span class=k>done</span>
</span></code></pre></div> </div> <p>You could also use the get a bigger hammer approach too <code>grep -rl "10.173.0.129" | xargs sed 's/10.173.0.129/10.194.118.129/g'</code> there's a lot of ways to do the same thing. So why do it with Ansible? Well idempotency aside we do not have to worry about what system is on the other end. That same module will work the same on Linux, Mac, Windows, BSD, etc. We can also chain multiple playbooks together in ways that trying to string together multiple shell scripts start to fail at. <a href=https://radssh.readthedocs.io/ >Radssh</a> is an incredible tool but it will only get you so far. Ansible provides a way to validate your configurations and document them in ways that other methods just simply can not do.</p> <h2 id=digressions-aside-how-do-you-actually-run-the-damn-thing>Digressions Aside; how Do You Actually Run the Damn Thing!?</h2> <div class="admonition example"> <p class=admonition-title>&gt; <code>ansible-playbook -i inventory.yml all -u USERNAME -k change_genesis.yml</code></p> </div> <p>Let's break this down. <code>ansible-playbook</code> is the command that handles playbooks, kind of like we used <code>ansible-inventory</code> to look at out inventory file. <code>-i inventory.yml all</code> says use all the hosts in the inventory file. <code>-u USERNAME -k</code> says use this username and prompt for a sudo password so it can be used when needed. Some depending on how sudoers is configured you can leave this out. For most admin/op account <code>-k</code> isn't needed. Lastly the name of the playbook <code>change_genesis.yml</code></p> <h2 id=the-end-ish>The End-ish</h2> <p>This is has been an overview on Ansible. It is by no means a complete or even good overview. It's purely from my memory and there are bounds to be gaps or things I'm making assumptions about. I will be adding this document to github in the future once I am mostly satisfied with it's content.</p> <p>As with everything in life; YMMV, caveat emptor, pass performance doesn't equal future success, and…</p> <p><strong>Have an Average Day :|</strong></p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2023 Hugh Smalley </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a> </div> <div class=md-social> <a class=md-social__link href=https://github.com/hsmalley rel=noopener target=_blank title=github.com> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"></path></svg> </a> <a class=md-social__link href=https://gitlab.com/hsmalley rel=noopener target=_blank title=gitlab.com> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M48 32h352c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48zm334.1 192.9-44.6-116.4c-.9-2.3-2.6-4.3-4.6-5.6-1.6-1-3.4-1.6-5.2-1.8-1.8-.2-3.7.1-5.4.7-1.7.7-3.3 1.7-4.5 3.1-1.2 1.4-2.1 3-2.6 4.8L285 201.9H162.1l-29.2-92.2c-.5-1.8-1.5-3.4-2.7-4.8-2.1-1.3-2.8-2.4-4.5-3-2.6-.7-3.6-1.8-5.4-.8-1.8.2-3.6.8-5.2 1.8-2 1.3-3.6 3.3-4.5 5.6L65.94 224.9l-.47 1.2a82.94 82.94 0 0 0-2.25 52.5c4.96 17.3 15.4 32.5 29.75 43.3l.17.1.38.3 67.88 50.9 54.2 40.9c1.5 1 5.3 2.8 8.3 2.8 3 0 6-1.8 8.4-2.8l54.1-40.9 68.4-51.2.2-.1c14.4-10.9 24.8-26.1 29.8-43.3 4.9-17.3 3.3-35.7-2.3-52.5l-.4-1.2z"></path></svg> </a> <a class=md-social__link href=https://linkedin.com/in/hsmalley rel=noopener target=_blank title=linkedin.com> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.copy", "content.code.annotate", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.efa0ade1.min.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body> </html>